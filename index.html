<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plantilla de Análisis: Auditoría de Tarea</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        textarea {
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            resize: vertical; /* Permite redimensionar verticalmente */
        }
        textarea:focus {
            border-color: #0d9488; /* Teal-600 */
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.2);
            outline: none;
        }
        /* Estilos que se aplicarán solo al imprimir */
        @media print {
            body {
                -webkit-print-color-adjust: exact; /* Fuerza la impresión de colores y fondos en Chrome/Safari */
                print-color-adjust: exact;
            }
            .no-print {
                display: none !important; /* Oculta los elementos que no queremos imprimir */
            }
            .container {
                max-width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            .printable-content {
                box-shadow: none !important;
                border: 1px solid #ccc !important;
            }
             textarea {
                border: 1px solid #ddd !important;
                height: auto !important; /* Ajusta la altura al contenido */
                overflow: visible !important; /* Muestra todo el contenido */
            }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <!-- Header -->
        <header class="text-center mb-10 no-print">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-800">Ejercicio de Análisis: "Auditoría de una Tarea"</h1>
            <p class="text-md md:text-lg text-gray-600 mt-2">Completa la plantilla basándote en las 5 dimensiones de Gulikers.</p>
        </header>

        <div id="content-to-print">
            <!-- Task Description -->
            <div class="bg-white p-6 rounded-2xl shadow-lg border border-blue-200 mb-8 printable-content">
                <h2 class="text-xl font-bold text-blue-800 mb-4">Tarea a Analizar: "Ensayo Final para Sociología del Arte"</h2>
                <p class="text-gray-700 leading-relaxed">
                    Al final del semestre, los estudiantes deben entregar un ensayo de 2,500 palabras. Deben elegir una de
                    tres preguntas predefinidas por el profesor. El ensayo debe analizar una obra de arte específica utilizando
                    dos de las teorías sociológicas vistas en clase. Se espera que los estudiantes utilicen un mínimo de 8
                    fuentes académicas de la bibliografía del curso. El trabajo es individual, se entrega en formato PDF a
                    través de la plataforma virtual y es calificado por el profesor, quien devuelve una nota numérica y un
                    párrafo de comentarios generales.
                </p>
            </div>

            <!-- Analysis Template -->
            <div class="bg-white p-6 rounded-2xl shadow-lg space-y-6 printable-content">
                <h2 class="text-2xl font-bold text-center mb-4">Tu Análisis de las 5 Dimensiones</h2>
                
                <div>
                    <label for="dim1-task" class="text-lg font-semibold text-gray-800 block mb-2">1. Dimensión: La Tarea</label>
                    <textarea id="dim1-task" class="w-full h-32 p-3 border border-gray-300 rounded-md" placeholder="Analiza aquí si la tarea es compleja, poco estructurada, si integra conocimientos, etc."></textarea>
                </div>
                
                <div>
                    <label for="dim2-physical" class="text-lg font-semibold text-gray-800 block mb-2">2. Dimensión: El Contexto Físico</label>
                    <textarea id="dim2-physical" class="w-full h-32 p-3 border border-gray-300 rounded-md" placeholder="Analiza el entorno, herramientas y recursos. ¿Son de alta o baja fidelidad con la realidad profesional?"></textarea>
                </div>
                
                <div>
                    <label for="dim3-social" class="text-lg font-semibold text-gray-800 block mb-2">3. Dimensión: El Contexto Social</label>
                    <textarea id="dim3-social" class="w-full h-32 p-3 border border-gray-300 rounded-md" placeholder="Analiza las interacciones humanas. ¿Es un trabajo individual, colaborativo, con un cliente?"></textarea>
                </div>

                <div>
                    <label for="dim4-product" class="text-lg font-semibold text-gray-800 block mb-2">4. Dimensión: La Forma del Producto/Evidencia</label>
                    <textarea id="dim4-product" class="w-full h-32 p-3 border border-gray-300 rounded-md" placeholder="Analiza el resultado final. ¿Es un artefacto académico o un producto con valor profesional?"></textarea>
                </div>

                <div>
                    <label for="dim5-criteria" class="text-lg font-semibold text-gray-800 block mb-2">5. Dimensión: Los Criterios y Estándares</label>
                    <textarea id="dim5-criteria" class="w-full h-32 p-3 border border-gray-300 rounded-md" placeholder="Analiza cómo se juzga la calidad. ¿Son los criterios transparentes, multidimensionales, públicos?"></textarea>
                </div>
            </div>
        </div>
        
        <!-- Print/Export Button -->
        <div class="mt-8 text-center no-print">
            <button id="print-pdf-button" class="bg-teal-600 text-white font-semibold py-3 px-8 rounded-lg hover:bg-teal-700 transition-colors shadow-md">
                Preparar para Imprimir / Guardar como PDF
            </button>
        </div>
    </div>

    <script>
        // Esta función convierte el contenido del textarea a un div para la impresión
        function prepareForPrint() {
            const textareas = document.querySelectorAll('textarea');
            textareas.forEach(textarea => {
                // Crear un nuevo div para el contenido
                let contentDiv = document.createElement('div');
                contentDiv.classList.add('printable-text');
                contentDiv.style.whiteSpace = 'pre-wrap'; // Conserva saltos de línea y espacios
                contentDiv.style.padding = '0.75rem';
                contentDiv.style.border = '1px solid #e5e7eb';
                contentDiv.style.borderRadius = '0.375rem';
                contentDiv.style.minHeight = '8rem'; // Mantiene una altura mínima
                contentDiv.textContent = textarea.value || '[Sin respuesta]';
                
                // Esconder el textarea y mostrar el div en su lugar
                textarea.style.display = 'none';
                textarea.parentNode.insertBefore(contentDiv, textarea.nextSibling);
            });
        }

        // Esta función revierte los cambios después de imprimir
        function revertAfterPrint() {
            const textareas = document.querySelectorAll('textarea');
            textareas.forEach(textarea => {
                textarea.style.display = 'block'; // Muestra el textarea de nuevo
            });
            const contentDivs = document.querySelectorAll('.printable-text');
            contentDivs.forEach(div => div.remove()); // Elimina los divs creados
        }


        document.getElementById('print-pdf-button').addEventListener('click', function() {
            prepareForPrint();
            
            // Espera un momento para que el DOM se actualice antes de llamar a imprimir
            setTimeout(() => {
                window.print();
            }, 100);
        });

        // Detecta cuando el diálogo de impresión se cierra (o se completa)
        window.onafterprint = function() {
            revertAfterPrint();
        };

    </script>
</body>
</html>
